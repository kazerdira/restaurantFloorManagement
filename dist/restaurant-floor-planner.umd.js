(function(Ae,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react/jsx-runtime"),require("react"),require("lucide-react"),require("three")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react","lucide-react","three"],e):(Ae=typeof globalThis<"u"?globalThis:Ae||self,e(Ae.RestaurantFloorPlanner={},Ae["react/jsx-runtime"],Ae.React,Ae.LucideReact,Ae.THREE))})(this,function(Ae,e,y,G,it){"use strict";function lt(o){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(o){for(const c in o)if(c!=="default"){const M=Object.getOwnPropertyDescriptor(o,c);Object.defineProperty(l,c,M.get?M:{enumerable:!0,get:()=>o[c]})}}return l.default=o,Object.freeze(l)}const t=lt(it),kt="",dt=`
  .hexagon-shape {
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
  }
`,D=20,ct={small:{width:50,height:50},medium:{width:90,height:90},large:{width:130,height:130}},ht={square:G.Square,circle:G.Circle,rectangle:G.Square,hexagon:G.Square},Ke={small:"Small",medium:"Medium",large:"Big"},Je={bar:G.Wine,kitchen:G.ChefHat,toilet:G.Bath},qe={bar:"Bar",kitchen:"Kitchen",toilet:"Toilet"},Qe={bar:{bg:"bg-gradient-to-br from-purple-500 to-purple-700",border:"border-purple-600",text:"text-purple-100"},kitchen:{bg:"bg-gradient-to-br from-orange-500 to-orange-700",border:"border-orange-600",text:"text-orange-100"},toilet:{bg:"bg-gradient-to-br from-cyan-500 to-cyan-700",border:"border-cyan-600",text:"text-cyan-100"}},Ve={wall:"Wall",door:"Door",window:"Window"},gt={wall:G.RectangleVertical,door:G.DoorOpen,window:G.RectangleVertical},je={pillar:"Pillar",column:"Column",stairs:"Stairs"},pt={pillar:G.Columns,column:G.Columns,stairs:G.Rows},ft={pillar:{bg:"bg-gradient-to-br from-gray-600 to-gray-800",border:"border-gray-700",text:"text-gray-100"},column:{bg:"bg-gradient-to-br from-slate-600 to-slate-800",border:"border-slate-700",text:"text-slate-100"},stairs:{bg:"bg-gradient-to-br from-stone-600 to-stone-800",border:"border-stone-700",text:"text-stone-100"}},_e=()=>Math.random().toString(36).slice(2,11),mt=o=>{const l=o.shape==="rectangle"?o.width*1.5:o.width,c=Math.min(l,o.height),M=Math.round(c*.35);return Math.max(18,Math.min(48,M))},Re=o=>o.shape==="rectangle"?o.width*1.5:o.width,et=(o,l)=>{const{width:c,height:M}=ct[l];return{width:o==="rectangle"?c*1.5:c,height:M}},Ue=(o,l)=>{const c=Math.abs(l.x-o.x),M=Math.abs(l.y-o.y);return c>M?{x:l.x,y:o.y}:{x:o.x,y:l.y}},xt=({chair:o,table:l,isSelected:c,onSelect:M,onDrag:n,onDragEnd:v,totalChairsOnSide:J})=>{const oe=mt(l),T=o.size??Math.round(oe*1.3),ie=Math.max(10,Math.round(T*.25)),K=Math.min(T-4,Math.max(20,Math.round(T*.65))),H=Re(l),V=(l.rotation||0)*(Math.PI/180),ve=(()=>{const $e=(o.position==="top"||o.position==="bottom"?H:l.height)-T*J,pe=J>1?$e/(J+1):$e/2,ue=pe+o.index*(T+pe)+T/2;let g=0,I=0;switch(o.position){case"top":g=ue-H/2,I=-(l.height/2+ie+T/2);break;case"bottom":g=ue-H/2,I=l.height/2+ie+T/2;break;case"left":g=-(H/2+ie+T/2),I=ue-l.height/2;break;case"right":g=H/2+ie+T/2,I=ue-l.height/2;break}const Z=g*Math.cos(V)-I*Math.sin(V),ye=g*Math.sin(V)+I*Math.cos(V),le=l.x+H/2,Ge=l.y+l.height/2;return{x:le+Z-T/2,y:Ge+ye-T/2}})(),He=()=>{let j=0;switch(o.position){case"top":j=0;break;case"right":j=90;break;case"bottom":j=180;break;case"left":j=270;break}return j+(l.rotation||0)};return e.jsx("div",{className:`absolute cursor-move transition-all duration-150 ${c?"ring-4 ring-amber-400 ring-offset-2":""}`,style:{left:ve.x,top:ve.y,width:T,height:T,transform:`rotate(${He()}deg)`,zIndex:c?100:50,filter:"drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2))"},onMouseDown:j=>{j.stopPropagation(),M(),n(j,o.id)},onMouseUp:v,children:e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-amber-500 to-amber-700 rounded-lg border-4 border-amber-800 flex items-center justify-center shadow-xl hover:shadow-2xl hover:scale-105 transition-all",children:e.jsx(G.Armchair,{size:K,strokeWidth:3.5,className:"text-amber-50"})})})},wt=({table:o,chairs:l,isSelected:c,onSelect:M,onDrag:n,onDragEnd:v})=>{const J={left:o.x,top:o.y,width:Re(o),height:o.height,zIndex:c?100:50,transform:`rotate(${o.rotation||0}deg)`},oe="w-full h-full flex items-center justify-center relative",T=o.shape==="circle"?`${oe} rounded-full`:o.shape==="hexagon"?`${oe} hexagon-shape`:oe,K=l.filter(ve=>ve.tableId===o.id).length,H=o.name.match(/\d+/),V=H?H[0]:o.name;return e.jsx("div",{className:`absolute cursor-move transition-all duration-150 ${c?"ring-2 ring-emerald-500 ring-offset-2":""}`,style:J,onMouseDown:ve=>{ve.stopPropagation(),M(),n(ve,o.id)},onClick:ve=>{ve.stopPropagation(),M()},onMouseUp:v,children:e.jsxs("div",{className:T,children:[e.jsx("div",{className:"absolute inset-0 rounded-[inherit]",style:{background:"linear-gradient(145deg, #059669 0%, #047857 50%, #065f46 100%)",boxShadow:`
              0 8px 16px rgba(0, 0, 0, 0.3),
              0 4px 8px rgba(0, 0, 0, 0.2),
              inset 0 2px 4px rgba(255, 255, 255, 0.2),
              inset 0 -2px 4px rgba(0, 0, 0, 0.2)
            `}}),e.jsx("div",{className:"absolute inset-0 rounded-[inherit] opacity-20",style:{background:`
              repeating-linear-gradient(
                90deg,
                transparent,
                transparent 2px,
                rgba(0, 0, 0, 0.1) 2px,
                rgba(0, 0, 0, 0.1) 4px
              )
            `}}),e.jsx("div",{className:"absolute inset-0 rounded-[inherit]",style:{border:"3px solid transparent",borderImage:"linear-gradient(145deg, rgba(255,255,255,0.4), rgba(0,0,0,0.2)) 1",pointerEvents:"none"}}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center gap-1 text-white drop-shadow-lg",children:[e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wide",children:["N: ",V]}),e.jsxs("span",{className:"text-xs font-bold uppercase tracking-wide",children:["S: ",K]})]})]})})},bt=({object:o,isSelected:l,onSelect:c,onDragStart:M})=>{const n=Je[o.type],v=Qe[o.type],[J,oe]=y.useState(!1),T=ie=>{oe(!0),M(ie);const K=()=>{oe(!1),document.removeEventListener("mouseup",K)};document.addEventListener("mouseup",K)};return e.jsxs("div",{className:`absolute cursor-move select-none ${J?"":"transition-all duration-75"} ${v.bg} ${v.border} border-2 rounded-lg shadow-lg flex items-center justify-center ${l?"ring-4 ring-blue-400 ring-opacity-50 scale-105":"hover:scale-102"}`,style:{left:`${o.x}px`,top:`${o.y}px`,width:`${o.width}px`,height:`${o.height}px`,transform:`rotate(${o.rotation}deg)`,transformOrigin:"center",willChange:J?"transform":"auto"},onClick:ie=>{ie.stopPropagation(),c()},onMouseDown:T,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 pointer-events-none",children:[e.jsx(n,{className:`w-8 h-8 ${v.text}`,strokeWidth:2}),e.jsx("span",{className:`text-sm font-bold ${v.text} uppercase tracking-wide`,children:o.name})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white cursor-nw-resize"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white cursor-ne-resize"}),e.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white cursor-sw-resize"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white cursor-se-resize"})]})]})},tt=({wall:o,isSelected:l,onSelect:c,onDragHandle:M,onDragStart:n})=>{const v=Math.sqrt(Math.pow(o.endX-o.startX,2)+Math.pow(o.endY-o.startY,2)),J=Math.atan2(o.endY-o.startY,o.endX-o.startX)*(180/Math.PI),oe=()=>{if(!l)return"pointer";const H=Math.abs(o.endX-o.startX),V=Math.abs(o.endY-o.startY);return H>V?"ew-resize":"ns-resize"},T=()=>{switch(o.type){case"wall":return"bg-gray-800";case"door":return"bg-amber-600";case"window":return"bg-blue-500"}},ie=()=>o.type==="window"?"bg-gradient-to-r from-blue-400 via-blue-300 to-blue-400":o.type==="door"?"":T(),K=()=>{const H=v*.1,V=(v-H)/2;return e.jsxs("div",{className:"w-full h-full relative",children:[e.jsx("div",{className:"absolute left-0 bg-gradient-to-r from-amber-600 to-amber-700 shadow-md rounded-sm",style:{width:`${V}px`,height:`${o.thickness}px`,borderTop:"1px solid #fbbf24",borderBottom:"1px solid #78350f",borderRight:"2px solid #92400e"},children:e.jsx("div",{className:"absolute right-1 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-yellow-500 rounded-full shadow-sm"})}),e.jsx("div",{className:"absolute bg-transparent",style:{left:`${V}px`,width:`${H}px`,height:`${o.thickness}px`}}),e.jsx("div",{className:"absolute right-0 bg-gradient-to-r from-amber-700 to-amber-600 shadow-md rounded-sm",style:{width:`${V}px`,height:`${o.thickness}px`,borderTop:"1px solid #fbbf24",borderBottom:"1px solid #78350f",borderLeft:"2px solid #92400e"},children:e.jsx("div",{className:"absolute left-1 top-1/2 transform -translate-y-1/2 w-1.5 h-1.5 bg-yellow-500 rounded-full shadow-sm"})})]})};return e.jsxs("div",{onClick:H=>{H.stopPropagation(),c()},onMouseDown:H=>{l&&n&&(H.stopPropagation(),n(H))},className:`absolute transition-all ${l?"ring-4 ring-blue-400 ring-opacity-50 hover:ring-6 hover:ring-blue-300":""}`,style:{left:`${o.startX}px`,top:`${o.startY}px`,width:`${v}px`,height:`${o.thickness}px`,transform:`rotate(${J}deg)`,transformOrigin:"top left",zIndex:10,cursor:l?"move":"pointer",pointerEvents:"auto"},children:[o.type==="door"?K():e.jsx("div",{className:`w-full h-full ${ie()} shadow-lg hover:opacity-90 transition-opacity rounded-sm`,children:l&&e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap shadow-lg z-30",children:[Ve[o.type]," - ",Math.round(v),"px"]})}),o.type==="door"&&l&&e.jsxs("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap shadow-lg z-30",children:[Ve[o.type]," - ",Math.round(v),"px"]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -left-2 top-1/2 transform -translate-y-1/2 w-5 h-5 bg-blue-500 rounded-full border-2 border-white hover:bg-blue-600 hover:scale-125 transition-all shadow-xl z-30",style:{cursor:oe()},onMouseDown:H=>{H.stopPropagation(),M==null||M(H,"start")},title:"Drag to resize"}),e.jsx("div",{className:"absolute -right-2 top-1/2 transform -translate-y-1/2 w-5 h-5 bg-blue-500 rounded-full border-2 border-white hover:bg-blue-600 hover:scale-125 transition-all shadow-xl z-30",style:{cursor:oe()},onMouseDown:H=>{H.stopPropagation(),M==null||M(H,"end")},title:"Drag to resize"})]})]})},ut=({element:o,isSelected:l,onSelect:c,onDragStart:M})=>{const[n,v]=y.useState(!1),J=T=>{v(!0),M(T);const ie=()=>{v(!1),document.removeEventListener("mouseup",ie)};document.addEventListener("mouseup",ie)},oe=()=>o.type==="pillar"?e.jsxs("div",{className:"w-full h-full relative",children:[e.jsxs("div",{className:"absolute inset-2 bg-gradient-to-br from-gray-400 via-gray-600 to-gray-800 rounded-full shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-tr from-transparent via-white/10 to-white/20"}),e.jsx("div",{className:"absolute inset-0 rounded-full shadow-inner",style:{boxShadow:"inset -4px -4px 12px rgba(0,0,0,0.5), inset 4px 4px 12px rgba(255,255,255,0.2)"}})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-1/3 h-1/3 bg-white/10 rounded-full blur-sm"})})]}):o.type==="column"?e.jsxs("div",{className:"w-full h-full relative",children:[e.jsxs("div",{className:"absolute inset-2 bg-gradient-to-br from-slate-400 via-slate-600 to-slate-800 rounded-lg shadow-2xl",children:[e.jsx("div",{className:"absolute inset-0 rounded-lg bg-gradient-to-br from-white/20 via-transparent to-black/30"}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/30 to-transparent rounded-t-lg"}),e.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-1 bg-gradient-to-b from-transparent via-white/30 to-transparent rounded-l-lg"}),e.jsx("div",{className:"absolute inset-0 rounded-lg",style:{boxShadow:"inset 0 0 20px rgba(0,0,0,0.5)"}})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"w-0.5 h-2/3 bg-white/20"})})]}):o.type==="stairs"?e.jsxs("div",{className:"w-full h-full relative bg-gradient-to-br from-amber-200 via-amber-300 to-amber-400 rounded-lg shadow-xl overflow-hidden",children:[[0,1,2,3,4,5].map(T=>e.jsxs("div",{className:"absolute left-0 right-0 bg-gradient-to-r from-amber-400 to-amber-500 border-t border-amber-600",style:{top:`${T*16.66}%`,height:"16.66%",boxShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/20 to-transparent h-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-black/30"})]},T)),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:"bg-white/80 rounded-full p-2 shadow-lg",children:e.jsx("svg",{className:"w-6 h-6 text-amber-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 15l7-7 7 7"})})})})]}):null;return e.jsxs("div",{className:`absolute cursor-move select-none ${n?"":"transition-all duration-75"} rounded-lg ${l?"ring-4 ring-blue-400 ring-opacity-50 scale-105":"hover:scale-102"}`,style:{left:`${o.x}px`,top:`${o.y}px`,width:`${o.width}px`,height:`${o.height}px`,transform:`rotate(${o.rotation}deg)`,transformOrigin:"center",willChange:n?"transform":"auto",zIndex:20},onClick:T=>{T.stopPropagation(),c()},onMouseDown:J,children:[oe(),l&&e.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded whitespace-nowrap shadow-lg z-30",children:o.name}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute -top-1 -left-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"}),e.jsx("div",{className:"absolute -bottom-1 -left-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"}),e.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 bg-blue-500 rounded-full border-2 border-white"})]})]})},yt=Ke,vt=({floors:o,currentFloor:l,onAddFloor:c,onRemoveFloor:M,onSwitchFloor:n,onRenameFloor:v,onAddTable:J,onAddObject:oe,onStartWallDrawing:T,onAddFixedElement:ie,onRotateTable:K,onDuplicateTable:H,onRemoveTable:V,onSave:ve,onLoad:He,selectedTable:j,selectedTableChairs:$e})=>{const[pe,ue]=y.useState(null),[g,I]=y.useState(""),[Z,ye]=y.useState("tables"),le=y.useRef(null);y.useEffect(()=>{pe&&le.current&&(le.current.focus(),le.current.select())},[pe]);const Ge=S=>{ue(S.id),I(S.name)},xe=()=>{pe&&g.trim()&&v(pe,g.trim()),ue(null),I("")},Oe=S=>{S.key==="Enter"?xe():S.key==="Escape"&&(ue(null),I(""))};return e.jsxs("div",{className:"w-80 bg-white shadow-lg border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Restaurant Designer"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"Professional Floor Planner"})]}),e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(G.Layers,{className:"w-5 h-5"}),"Floor Plans (",o.length,")"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:c,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Add New Floor",children:e.jsx(G.Plus,{className:"w-4 h-4"})}),e.jsx("button",{onClick:M,disabled:o.length<=1,className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove Current Floor",children:e.jsx(G.Minus,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:o.map(S=>e.jsxs("div",{className:`w-full p-3 rounded-lg transition-all flex items-center justify-between ${S.isActive?"bg-blue-100 text-blue-800 border border-blue-200 shadow-sm":"text-gray-600 hover:bg-gray-100 border border-transparent"}`,onClick:()=>{pe!==S.id&&n(S.id)},onDoubleClick:()=>Ge(S),children:[e.jsxs("div",{className:"flex-1",children:[pe===S.id?e.jsx("input",{ref:le,type:"text",value:g,onChange:Me=>I(Me.target.value),onBlur:xe,onKeyDown:Oe,className:"w-full px-2 py-1 text-sm font-medium bg-white border border-blue-400 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:Me=>Me.stopPropagation()}):e.jsx("div",{className:"font-medium cursor-pointer",children:S.name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[S.tables.length," tables, ",S.chairs.length," chairs"]})]}),S.isActive&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},S.id))})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex",children:[e.jsxs("button",{onClick:()=>ye("tables"),className:`flex-1 py-3 px-4 font-semibold text-sm transition-all flex items-center justify-center gap-2 ${Z==="tables"?"bg-white text-emerald-600 border-b-2 border-emerald-600":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(G.LayoutGrid,{className:"w-4 h-4"}),"Tables"]}),e.jsxs("button",{onClick:()=>ye("objects"),className:`flex-1 py-3 px-4 font-semibold text-sm transition-all flex items-center justify-center gap-2 ${Z==="objects"?"bg-white text-purple-600 border-b-2 border-purple-600":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(G.Package,{className:"w-4 h-4"}),"Objects"]}),e.jsxs("button",{onClick:()=>ye("roomLayout"),className:`flex-1 py-3 px-4 font-semibold text-sm transition-all flex items-center justify-center gap-2 ${Z==="roomLayout"?"bg-white text-gray-700 border-b-2 border-gray-700":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(G.Home,{className:"w-4 h-4"}),"Room"]})]})}),Z==="tables"&&e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"Add Tables"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(ht).map(([S,Me])=>e.jsxs("button",{onClick:()=>J(S),className:"p-3 border-2 border-gray-200 rounded-lg hover:border-emerald-400 hover:bg-emerald-50 transition-all flex flex-col items-center gap-2 hover:shadow-md",children:[e.jsx(Me,{className:"w-6 h-6 text-emerald-600"}),e.jsx("span",{className:"text-xs text-gray-700 capitalize font-medium",children:S})]},S))})]}),Z==="objects"&&e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"Add Objects"}),e.jsx("div",{className:"space-y-3",children:Object.keys(qe).map(S=>{const Me=Je[S],te=Qe[S],Q=qe[S];return e.jsxs("button",{onClick:()=>oe(S),className:`w-full p-4 ${te.bg} border-2 ${te.border} rounded-xl hover:scale-105 transition-all flex items-center gap-3 shadow-lg hover:shadow-xl`,children:[e.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:e.jsx(Me,{className:`w-6 h-6 ${te.text}`,strokeWidth:2.5})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("span",{className:`text-base font-bold ${te.text}`,children:Q}),e.jsx("div",{className:"text-xs text-white/80 mt-0.5",children:"Click to add to floor"})]})]},S)})})]}),Z==="roomLayout"&&e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"Draw Walls"}),e.jsx("div",{className:"space-y-2",children:["wall","door","window"].map(S=>{const Me=gt[S],te=Ve[S],Q={wall:"bg-gradient-to-br from-gray-600 to-gray-800 border-gray-700 text-white hover:from-gray-700 hover:to-gray-900",door:"bg-gradient-to-br from-amber-500 to-amber-700 border-amber-600 text-white hover:from-amber-600 hover:to-amber-800",window:"bg-gradient-to-br from-blue-500 to-blue-700 border-blue-600 text-white hover:from-blue-600 hover:to-blue-800"};return e.jsxs("button",{onClick:()=>T(S),className:`w-full p-3 border-2 rounded-lg transition-all flex items-center gap-3 shadow-md hover:shadow-lg ${Q[S]}`,children:[e.jsx(Me,{className:"w-5 h-5",strokeWidth:2.5}),e.jsx("span",{className:"text-sm font-semibold",children:te})]},S)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800 mb-3",children:"Add Elements"}),e.jsx("div",{className:"space-y-2",children:["pillar","column","stairs"].map(S=>{const Me=pt[S],te=ft[S],Q=je[S];return e.jsxs("button",{onClick:()=>ie(S),className:`w-full p-3 ${te.bg} border-2 ${te.border} rounded-lg hover:scale-105 transition-all flex items-center gap-3 shadow-md hover:shadow-lg`,children:[e.jsx("div",{className:"bg-white/10 p-1.5 rounded",children:e.jsx(Me,{className:`w-5 h-5 ${te.text}`,strokeWidth:2.5})}),e.jsx("span",{className:`text-sm font-semibold ${te.text}`,children:Q})]},S)})})]})]}),j&&e.jsxs("div",{className:"p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Table Properties"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:K,className:"p-1 text-blue-600 hover:bg-blue-100 rounded transition-colors",title:"Rotate Table",children:e.jsx(G.RotateCw,{className:"w-4 h-4"})}),e.jsx("button",{onClick:H,className:"p-1 text-green-600 hover:bg-green-100 rounded transition-colors",title:"Duplicate Table",children:e.jsx(G.Plus,{className:"w-4 h-4"})}),e.jsx("button",{onClick:V,className:"p-1 text-red-600 hover:bg-red-100 rounded transition-colors",title:"Delete Table",children:e.jsx(G.Trash2,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Name"}),e.jsx("div",{className:"font-semibold text-gray-800",children:j.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Shape"}),e.jsx("div",{className:"font-semibold text-gray-800 capitalize",children:j.shape})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Size"}),e.jsx("div",{className:"font-semibold text-gray-800",children:yt[j.size]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs uppercase tracking-wide text-gray-400",children:"Seats"}),e.jsx("div",{className:"font-semibold text-gray-800",children:$e.length})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("p",{className:"text-xs text-blue-700",children:["ðŸ’¡ ",e.jsx("span",{className:"font-semibold",children:"Tip:"})," Use the ",e.jsx("span",{className:"font-semibold",children:"Manage Chairs"})," button in the toolbar above to add or remove chairs from each side of the table."]})})]})]}),e.jsxs("div",{className:"p-4 mt-auto space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Floor Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Tables"}),e.jsx("div",{className:"font-bold text-lg text-emerald-600",children:(l==null?void 0:l.tables.length)??0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-600",children:"Total Seats"}),e.jsx("div",{className:"font-bold text-lg text-amber-600",children:(l==null?void 0:l.chairs.length)??0})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:ve,className:"flex-1 bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(G.Save,{className:"w-4 h-4"}),"Save"]}),e.jsxs("button",{onClick:He,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 font-medium",children:[e.jsx(G.Upload,{className:"w-4 h-4"}),"Load"]})]})]})]})},st=Ke,Mt=["top","right","bottom","left"],Nt=["small","medium","large"],St=({showGrid:o,selectedTable:l,selectedObject:c,selectedWall:M,selectedFixedElement:n,selectedTableChairs:v,onToggleGrid:J,onAddChair:oe,onRemoveChair:T,onChangeTableSize:ie,onTableNameChange:K,onCustomTableSize:H,onObjectNameChange:V,onObjectResize:ve,onRemoveObject:He,onRemoveWall:j,onRemoveFixedElement:$e,onChangeWallThickness:pe,onConvertWallType:ue,onFixedElementNameChange:g,onFixedElementResize:I,onChairSizeChange:Z,onResetChairSizes:ye,on3DPreview:le,onObjectRotate:Ge,tableCount:xe,chairCount:Oe,objectCount:S,wallCount:Me,fixedElementCount:te,selectedElementType:Q})=>{const Le=y.useRef(null),s=y.useRef(null),q=y.useRef(null),O=y.useRef(null),[E,d]=y.useState(!1),[$,p]=y.useState(!1),[L,F]=y.useState(!1),[z,ne]=y.useState(!1),[_,de]=y.useState(!1),[se,B]=y.useState(90),[P,W]=y.useState(90),[b,ae]=y.useState(120),[R,Ce]=y.useState(80),[Y,C]=y.useState(60),[x,fe]=y.useState(60);return y.useEffect(()=>{const f=N=>{Le.current&&!Le.current.contains(N.target)&&d(!1),s.current&&!s.current.contains(N.target)&&p(!1),q.current&&!q.current.contains(N.target)&&F(!1),O.current&&!O.current.contains(N.target)&&ne(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),y.useEffect(()=>{l?(B(l.width),W(l.height)):(d(!1),p(!1),de(!1)),c?(ae(c.width),Ce(c.height)):F(!1),n?(C(n.width),fe(n.height)):ne(!1)},[l,c,n]),e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm min-h-[72px]",children:e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between min-h-[72px]",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("button",{onClick:J,className:`px-3 py-2 rounded-lg transition-all flex items-center gap-2 text-sm font-medium ${o?"bg-blue-500 text-white shadow-md hover:bg-blue-600":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,title:o?"Hide Grid":"Show Grid",children:[o?e.jsx(G.Eye,{className:"w-4 h-4"}):e.jsx(G.EyeOff,{className:"w-4 h-4"}),e.jsx("span",{children:"Grid"})]}),l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-8 bg-gray-300"}),e.jsxs("div",{ref:Le,className:"relative",children:[e.jsxs("button",{onClick:()=>{d(!E),p(!1)},className:"px-3 py-2 rounded-lg bg-gradient-to-r from-amber-500 to-amber-600 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",children:[e.jsx(G.Armchair,{className:"w-4 h-4"}),e.jsx("span",{children:"Manage Chairs"}),e.jsx("span",{className:"ml-1 px-1.5 py-0.5 bg-white/20 rounded text-xs",children:v.length})]}),E&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-72 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-500 to-amber-600 px-4 py-3 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G.Armchair,{className:"w-4 h-4"}),e.jsx("span",{className:"font-semibold text-sm",children:"Chair Positions"})]}),e.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:["Total: ",v.length]})]})}),e.jsxs("div",{className:"p-3 space-y-2",children:[Mt.map(f=>{const N=v.filter(w=>w.position===f).length,Ne=v.find(w=>w.position===f),X=(Ne==null?void 0:Ne.size)||40;return e.jsxs("div",{className:"bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 hover:border-amber-300 transition-all space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-600 to-gray-700 rounded-md flex items-center justify-center text-white text-xs font-bold uppercase",children:f[0]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 capitalize",children:f}),e.jsxs("div",{className:"text-xs text-gray-500",children:[N," chair",N!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>T(f),disabled:N===0,className:"w-7 h-7 rounded-md bg-red-50 text-red-600 hover:bg-red-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all flex items-center justify-center",title:"Remove chair",children:e.jsx(G.Minus,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>oe(f),className:"w-7 h-7 rounded-md bg-green-50 text-green-600 hover:bg-green-100 transition-all flex items-center justify-center",title:"Add chair",children:e.jsx(G.Plus,{className:"w-4 h-4"})})]})]}),N>0&&e.jsxs("div",{className:"pt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Chair Size"}),e.jsxs("span",{className:"text-xs font-bold text-amber-600",children:[X,"px"]})]}),e.jsx("input",{type:"range",min:"20",max:"60",value:X,onChange:w=>Z==null?void 0:Z(f,parseInt(w.target.value)),className:"w-full h-2 bg-gradient-to-r from-amber-200 to-amber-400 rounded-full appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, rgb(251, 191, 36) 0%, rgb(251, 191, 36) ${(X-20)/40*100}%, rgb(253, 230, 138) ${(X-20)/40*100}%, rgb(253, 230, 138) 100%)`}})]})]},f)}),e.jsxs("button",{onClick:()=>ye==null?void 0:ye(),className:"w-full mt-3 px-3 py-2 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all flex items-center justify-center gap-2 text-sm font-medium",children:[e.jsx(G.RotateCcw,{className:"w-4 h-4"}),e.jsx("span",{children:"Reset All Sizes"})]})]})]})]}),e.jsxs("div",{ref:s,className:"relative",children:[e.jsxs("button",{onClick:()=>{p(!$),d(!1)},className:"px-3 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-emerald-600 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",children:[e.jsx(G.Square,{className:"w-4 h-4"}),e.jsxs("span",{children:["Size: ",st[l.size]]})]}),$&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 px-4 py-2 text-white",children:e.jsx("span",{className:"font-semibold text-sm",children:"Table Size"})}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("div",{className:"flex gap-2",children:Nt.map(f=>{const N=l.size===f;return e.jsx("button",{onClick:()=>{ie(f),de(!1)},className:`flex-1 px-3 py-2 text-sm font-medium rounded-lg transition-all ${N&&!_?"bg-emerald-500 text-white shadow-sm":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:st[f]},f)})}),e.jsxs("button",{onClick:()=>de(!_),className:`w-full flex items-center justify-between px-3 py-2 rounded-lg transition-all ${_?"bg-purple-500 text-white shadow-sm":"bg-gradient-to-r from-purple-100 to-purple-50 text-purple-700 hover:from-purple-200 hover:to-purple-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold",children:"Pro Mode"}),e.jsx("span",{className:"text-xs bg-white/20 px-1.5 py-0.5 rounded",children:"Custom"})]}),e.jsx(G.ChevronRight,{className:`w-4 h-4 transition-transform ${_?"rotate-90":""}`})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${_?"max-h-48 opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("div",{className:"pt-2 space-y-3 border-t border-gray-200",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Width"}),e.jsxs("span",{className:"text-xs font-mono bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:[se,"px"]})]}),e.jsx("input",{type:"range",min:"40",max:"200",step:"5",value:se,onChange:f=>{const N=parseInt(f.target.value);B(N),H(N,P)},className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, rgb(168, 85, 247) 0%, rgb(168, 85, 247) ${(se-40)/160*100}%, rgb(233, 213, 255) ${(se-40)/160*100}%, rgb(233, 213, 255) 100%)`}})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Height"}),e.jsxs("span",{className:"text-xs font-mono bg-purple-100 text-purple-700 px-2 py-0.5 rounded",children:[P,"px"]})]}),e.jsx("input",{type:"range",min:"40",max:"200",step:"5",value:P,onChange:f=>{const N=parseInt(f.target.value);W(N),H(se,N)},className:"w-full h-2 bg-purple-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, rgb(168, 85, 247) 0%, rgb(168, 85, 247) ${(P-40)/160*100}%, rgb(233, 213, 255) ${(P-40)/160*100}%, rgb(233, 213, 255) 100%)`}})]}),e.jsx("p",{className:"text-xs text-gray-500 italic pt-1",children:"Drag sliders for precise sizing"})]})})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Name:"}),e.jsx("input",{type:"text",value:l.name,onChange:f=>K(f.target.value),className:"bg-transparent text-sm text-gray-800 font-medium focus:outline-none w-32",placeholder:"Table name"})]})]}),c&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-8 bg-gray-300"}),e.jsxs("div",{ref:q,className:"relative",children:[e.jsxs("button",{onClick:()=>F(!L),className:`px-3 py-2 rounded-lg ${c.type==="bar"?"bg-gradient-to-r from-purple-500 to-purple-600":c.type==="kitchen"?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-cyan-500 to-cyan-600"} text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold`,children:[(()=>{const f=Je[c.type];return e.jsx(f,{className:"w-4 h-4"})})(),e.jsxs("span",{children:["Resize ",qe[c.type]]})]}),L&&e.jsxs("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 overflow-hidden",children:[e.jsx("div",{className:`${c.type==="bar"?"bg-gradient-to-r from-purple-500 to-purple-600":c.type==="kitchen"?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-cyan-500 to-cyan-600"} px-4 py-2 text-white`,children:e.jsx("span",{className:"font-semibold text-sm",children:"Custom Size"})}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Width"}),e.jsxs("span",{className:`text-xs font-mono px-2 py-0.5 rounded ${c.type==="bar"?"bg-purple-100 text-purple-700":c.type==="kitchen"?"bg-orange-100 text-orange-700":"bg-cyan-100 text-cyan-700"}`,children:[b,"px"]})]}),e.jsx("input",{type:"range",min:"60",max:"1000",step:"10",value:b,onChange:f=>{const N=parseInt(f.target.value);ae(N),ve(N,R)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, ${c.type==="bar"?"rgb(168, 85, 247)":c.type==="kitchen"?"rgb(249, 115, 22)":"rgb(6, 182, 212)"} 0%, ${c.type==="bar"?"rgb(168, 85, 247)":c.type==="kitchen"?"rgb(249, 115, 22)":"rgb(6, 182, 212)"} ${(b-60)/940*100}%, rgb(229, 231, 235) ${(b-60)/940*100}%, rgb(229, 231, 235) 100%)`}})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"Height"}),e.jsxs("span",{className:`text-xs font-mono px-2 py-0.5 rounded ${c.type==="bar"?"bg-purple-100 text-purple-700":c.type==="kitchen"?"bg-orange-100 text-orange-700":"bg-cyan-100 text-cyan-700"}`,children:[R,"px"]})]}),e.jsx("input",{type:"range",min:"60",max:"1000",step:"10",value:R,onChange:f=>{const N=parseInt(f.target.value);Ce(N),ve(b,N)},className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, ${c.type==="bar"?"rgb(168, 85, 247)":c.type==="kitchen"?"rgb(249, 115, 22)":"rgb(6, 182, 212)"} 0%, ${c.type==="bar"?"rgb(168, 85, 247)":c.type==="kitchen"?"rgb(249, 115, 22)":"rgb(6, 182, 212)"} ${(R-60)/940*100}%, rgb(229, 231, 235) ${(R-60)/940*100}%, rgb(229, 231, 235) 100%)`}})]}),e.jsx("p",{className:"text-xs text-gray-500 italic pt-1",children:"Drag sliders to resize the object"})]})]})]}),e.jsxs("button",{onClick:()=>{const f=((c.rotation||0)+90)%360;Ge==null||Ge(f)},className:`px-3 py-2 rounded-lg ${c.type==="bar"?"bg-gradient-to-r from-purple-600 to-purple-700":c.type==="kitchen"?"bg-gradient-to-r from-orange-600 to-orange-700":"bg-gradient-to-r from-cyan-600 to-cyan-700"} text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold`,title:"Rotate 90Â°",children:[e.jsx(G.RotateCcw,{className:"w-4 h-4"}),e.jsx("span",{children:"Rotate"})]}),e.jsxs("button",{onClick:He,className:"px-3 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",title:"Delete Object",children:[e.jsx(G.Trash2,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:"Name:"}),e.jsx("input",{type:"text",value:c.name,onChange:f=>V(f.target.value),className:"bg-transparent text-sm text-gray-800 font-medium focus:outline-none w-32",placeholder:"Object name"})]})]}),M&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-8 bg-gray-300"}),ue&&e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 border border-gray-300 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>ue("wall"),className:`px-3 py-1.5 rounded text-xs font-semibold transition-all ${M.type==="wall"?"bg-gray-600 text-white shadow-md":"text-gray-600 hover:bg-gray-200"}`,title:"Convert to Wall",children:"Wall"}),e.jsx("button",{onClick:()=>ue("door"),className:`px-3 py-1.5 rounded text-xs font-semibold transition-all ${M.type==="door"?"bg-amber-600 text-white shadow-md":"text-gray-600 hover:bg-gray-200"}`,title:"Convert to Door",children:"Door"}),e.jsx("button",{onClick:()=>ue("window"),className:`px-3 py-1.5 rounded text-xs font-semibold transition-all ${M.type==="window"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:bg-gray-200"}`,title:"Convert to Window",children:"Window"})]}),pe&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Thickness:"}),e.jsxs("select",{value:M.thickness,onChange:f=>pe(Number(f.target.value)),className:"px-2 py-1 text-sm border border-gray-300 rounded bg-white hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:4,children:"Thin (4px)"}),e.jsx("option",{value:8,children:"Normal (8px)"}),e.jsx("option",{value:12,children:"Thick (12px)"}),e.jsx("option",{value:16,children:"Very Thick (16px)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-300 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:Ve[M.type]}),e.jsxs("span",{className:"text-sm text-gray-600",children:[Math.round(Math.sqrt(Math.pow(M.endX-M.startX,2)+Math.pow(M.endY-M.startY,2))),"px"]})]}),e.jsxs("button",{onClick:j,className:"px-3 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",title:"Delete Wall",children:[e.jsx(G.Trash2,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-px h-8 bg-gray-300"}),e.jsx("div",{className:"flex items-center gap-2 bg-gray-50 border border-gray-300 rounded-lg px-3 py-2",children:e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-gray-500",children:je[n.type]})}),I&&e.jsxs("div",{ref:O,className:"relative",children:[e.jsxs("button",{onClick:()=>ne(!z),className:"px-3 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",children:[e.jsx(G.Square,{className:"w-4 h-4"}),e.jsx("span",{children:"Resize"})]}),z&&e.jsx("div",{className:"absolute top-full left-0 mt-2 bg-white rounded-xl shadow-2xl border border-gray-200 p-4 z-50 min-w-[320px]",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Width"}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[Y,"px"]})]}),e.jsx("input",{type:"range",min:"30",max:"200",value:Y,onChange:f=>{const N=parseInt(f.target.value);C(N),I(N,x)},className:"w-full h-2 bg-gradient-to-r from-blue-200 to-blue-500 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"30px"}),e.jsx("span",{children:"200px"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Height"}),e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:[x,"px"]})]}),e.jsx("input",{type:"range",min:"30",max:"200",value:x,onChange:f=>{const N=parseInt(f.target.value);fe(N),I(Y,N)},className:"w-full h-2 bg-gradient-to-r from-green-200 to-green-500 rounded-lg appearance-none cursor-pointer slider"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"30px"}),e.jsx("span",{children:"200px"})]})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Current Size: "}),e.jsxs("span",{className:"text-sm font-bold text-gray-800",children:[Y," Ã— ",x,"px"]})]})})]})})]}),e.jsxs("button",{onClick:$e,className:"px-3 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white shadow-md hover:shadow-lg transition-all flex items-center gap-2 text-sm font-semibold",title:"Delete Element",children:[e.jsx(G.Trash2,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs("button",{onClick:le,className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:shadow-lg transition-all flex items-center gap-2 font-semibold text-sm",children:[e.jsx(G.Box,{className:"w-4 h-4"}),"3D"]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-emerald-50 rounded text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-600 rounded-full"}),e.jsxs("span",{className:"font-medium text-emerald-800",children:["Tables: ",xe]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-amber-50 rounded text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full"}),e.jsxs("span",{className:"font-medium text-amber-800",children:["Chairs: ",Oe]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-purple-50 rounded text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full"}),e.jsxs("span",{className:"font-medium text-purple-800",children:["Objects: ",S]})]}),Q&&e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-blue-50 rounded text-xs",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full animate-pulse"}),e.jsxs("span",{className:"font-medium text-blue-800 capitalize",children:["Selected: ",Q]})]})]})]})})},at={default:{position:{x:1050,y:800,z:1050},target:{x:0,y:100,z:0},name:"Default",icon:"ðŸ "},top:{position:{x:0,y:1200,z:1},target:{x:0,y:0,z:0},name:"Top View",icon:"â¬‡"},front:{position:{x:0,y:300,z:1e3},target:{x:0,y:100,z:0},name:"Front",icon:"â¬†"},side:{position:{x:1e3,y:300,z:0},target:{x:0,y:100,z:0},name:"Side",icon:"âž¡"},corner:{position:{x:-900,y:700,z:-900},target:{x:0,y:100,z:0},name:"Corner",icon:"â†–"}},rt=({floor:o,isOpen:l,onClose:c})=>{const M=y.useRef(null),n=y.useRef(null),v=y.useRef(null),J=y.useRef(null),oe=y.useRef(null),[T,ie]=y.useState(!1),[K,H]=y.useState("default"),[V,ve]=y.useState(!1),He=y.useRef(.003),j=y.useRef(null),$e=g=>{if(!v.current||V)return;const I=at[g],Z=v.current;j.current={startPos:Z.position.clone(),endPos:new t.Vector3(I.position.x,I.position.y,I.position.z),startTarget:new t.Vector3(0,100,0),endTarget:new t.Vector3(I.target.x,I.target.y,I.target.z),progress:0},ve(!0),H(g),ie(!1)},pe=g=>{if(!v.current||V)return;const I=v.current,Z=Math.sqrt(I.position.x**2+I.position.z**2),ye=Math.atan2(I.position.z,I.position.x);switch(g){case"left":const le=ye+.2;I.position.x=Z*Math.cos(le),I.position.z=Z*Math.sin(le);break;case"right":const Ge=ye-.2;I.position.x=Z*Math.cos(Ge),I.position.z=Z*Math.sin(Ge);break;case"up":I.position.y=Math.min(I.position.y+50,900);break;case"down":I.position.y=Math.max(I.position.y-50,100);break}I.lookAt(0,100,0)},ue=g=>{!v.current||V||(v.current.position.multiplyScalar(g),v.current.lookAt(0,100,0))};return y.useEffect(()=>{if(!l||!M.current)return;const g=new t.Scene;g.background=new t.Color(14608111),n.current=g;const I=new t.PerspectiveCamera(45,M.current.clientWidth/M.current.clientHeight,.1,1e4);I.position.set(1050,800,1050),I.lookAt(0,100,0),v.current=I;const Z=new t.WebGLRenderer({antialias:!0,alpha:!0});Z.setSize(M.current.clientWidth,M.current.clientHeight),Z.shadowMap.enabled=!0,Z.shadowMap.type=t.PCFSoftShadowMap,Z.toneMapping=t.ACESFilmicToneMapping,Z.toneMappingExposure=1.2,M.current.appendChild(Z.domElement),J.current=Z;const ye=new t.PMREMGenerator(Z),le=new t.Scene;le.background=new t.Color(16777215);const Ge=ye.fromScene(le).texture;g.environment=Ge,ye.dispose(),g.add(new t.AmbientLight(16777215,.6));const xe=new t.DirectionalLight(16777215,.8);xe.position.set(400,600,300),xe.castShadow=!0,xe.shadow.mapSize.width=4096,xe.shadow.mapSize.height=4096,xe.shadow.camera.left=xe.shadow.camera.bottom=-700,xe.shadow.camera.right=xe.shadow.camera.top=700,xe.shadow.bias=-1e-4,g.add(xe);const Oe=new t.DirectionalLight(16777215,.3);Oe.position.set(-400,400,-300),g.add(Oe);const S=new t.DirectionalLight(16777215,.2);S.position.set(0,300,-500),g.add(S);const Me=new t.Mesh(new t.PlaneGeometry(1200,1200),new t.MeshStandardMaterial({color:13684949,roughness:.8,metalness:.2}));Me.rotation.x=-Math.PI/2,Me.receiveShadow=!0,g.add(Me);const te=new t.GridHelper(3e3,150,10526888,12105920);te.position.y=1,g.add(te),o.walls.forEach(s=>{const q=Math.sqrt(Math.pow(s.endX-s.startX,2)+Math.pow(s.endY-s.startY,2)),O=Math.atan2(s.endY-s.startY,s.endX-s.startX),E=s.type==="window"?80:120,d=s.startX+(s.endX-s.startX)/2-400,$=-(s.startY+(s.endY-s.startY)/2-400);if(s.type==="door"){const p=new t.Group,L=q,F=E,z=s.thickness*.8,ne=new t.MeshStandardMaterial({color:3812901,roughness:.9,metalness:0}),_=8,de=new t.Mesh(new t.BoxGeometry(L,_,s.thickness+4),ne);de.position.y=F/2-_/2,p.add(de);const se=new t.Mesh(new t.BoxGeometry(L,_,s.thickness+4),ne);se.position.y=-F/2+_/2,p.add(se);const B=new t.Mesh(new t.BoxGeometry(_,F,s.thickness+4),ne);B.position.x=-L/2+_/2,p.add(B);const P=B.clone();P.position.x=L/2-_/2,p.add(P);const W=new t.MeshStandardMaterial({color:5125166,roughness:.85,metalness:0}),b=new t.MeshStandardMaterial({color:10400693,transparent:!0,opacity:.5,roughness:.95,metalness:0}),ae=(L-_*2-4)/2,R=F-_*2-4,Ce=Ee=>{const ke=new t.Group,ce=new t.Mesh(new t.BoxGeometry(ae,R,z),W);ke.add(ce);const he=new t.Mesh(new t.PlaneGeometry(ae*.8,R*.85),b);he.position.set(0,0,z/2+.1),ke.add(he);const Ze=new t.MeshStandardMaterial({color:8947848,metalness:.4,roughness:.7}),m=new t.Mesh(new t.CylinderGeometry(.6,.6,12,12),Ze);return m.rotation.z=Math.PI/2,m.position.set(Ee>0?-ae*.35:ae*.35,0,z/2+1.5),ke.add(m),ke.position.x=Ee,ke},Y=Ce(-ae/2),C=Ce(ae/2);p.add(Y),p.add(C);const x=14,fe=new t.PlaneGeometry(L*.9,x),f=document.createElement("canvas");f.width=512,f.height=128;const N=f.getContext("2d");N&&(N.fillStyle="#3a2e25",N.fillRect(0,0,f.width,f.height),N.font="bold 60px Arial",N.fillStyle="#f5d590",N.textAlign="center",N.textBaseline="middle",N.fillText("WELCOME",f.width/2,f.height/2));const Ne=new t.CanvasTexture(f),X=new t.MeshStandardMaterial({map:Ne,roughness:.8,metalness:.1}),w=new t.Mesh(fe,X);w.position.set(0,F/2-_-x/2-4,s.thickness/2+2),p.add(w),p.position.set(d,F/2,$),p.rotation.y=-O,p.castShadow=!0,p.receiveShadow=!0,g.add(p)}else if(s.type==="window"){const p=q>20?q:120,L=E,F=L*.45,z=L*.65,ne=L*.1,_=L*.3,de=new t.MeshStandardMaterial({color:13158608,roughness:.85,metalness:.05}),se=new t.MeshPhysicalMaterial({color:2763306,metalness:.95,roughness:.2,clearcoat:.8,clearcoatRoughness:.1}),B=new t.MeshPhysicalMaterial({color:15135487,transparent:!0,opacity:.4,transmission:.85,thickness:1.5,roughness:.05,metalness:.05,ior:1.52,envMapIntensity:1,clearcoat:.8,clearcoatRoughness:.1,reflectivity:.5}),P=new t.Mesh(new t.BoxGeometry(p,F,s.thickness),de);P.position.set(d,F/2,$),P.rotation.y=-O,P.receiveShadow=!0,P.castShadow=!0,g.add(P);const W=F+z/2,b=4,ae=Math.max(2,Math.floor(p/80)),R=(p-b*(ae+1))/ae;for(let f=0;f<ae;f++){const N=-p/2+b+R/2+f*(R+b),Ne=d+N*Math.cos(-O),X=$+N*Math.sin(-O),w=new t.Mesh(new t.BoxGeometry(R-2,z-b*2,1),B);if(w.position.set(Ne,W,X),w.rotation.y=-O,w.castShadow=!1,w.receiveShadow=!1,g.add(w),f<ae-1){const Ee=-p/2+b+(f+1)*R+(f+.5)*b,ke=d+Ee*Math.cos(-O),ce=$+Ee*Math.sin(-O),he=new t.Mesh(new t.BoxGeometry(b,z,s.thickness+3),se);he.position.set(ke,W,ce),he.rotation.y=-O,he.castShadow=!0,g.add(he)}}const Ce=F+z+ne/2,Y=new t.Mesh(new t.BoxGeometry(p-b*2,ne-b,1),B);Y.position.set(d,Ce,$),Y.rotation.y=-O,Y.castShadow=!1,g.add(Y);const C=new t.Mesh(new t.BoxGeometry(p,b,s.thickness+2),se);C.position.set(d,F+z+b/2,$),C.rotation.y=-O,C.castShadow=!0,g.add(C);const x=new t.Mesh(new t.BoxGeometry(p,b,s.thickness+2),se);x.position.set(d,F+z+ne+b/2,$),x.rotation.y=-O,x.castShadow=!0,g.add(x);const fe=new t.Mesh(new t.BoxGeometry(p,_,s.thickness),de);fe.position.set(d,F+z+ne+_/2,$),fe.rotation.y=-O,fe.castShadow=!0,fe.receiveShadow=!0,g.add(fe)}else{const p=new t.Mesh(new t.BoxGeometry(q,E,s.thickness),new t.MeshStandardMaterial({color:12105920,roughness:.9,metalness:.05}));p.position.set(d,E/2,$),p.rotation.y=-O,p.castShadow=!0,p.receiveShadow=!0,g.add(p)}}),o.fixedElements.forEach(s=>{const q=s.x-400+s.width/2,O=-(s.y-400+s.height/2);if(s.type==="pillar"){const E=Math.min(s.width,s.height)/2,d=new t.Mesh(new t.CylinderGeometry(E,E*1.1,140,32),new t.MeshStandardMaterial({color:4868698,roughness:.6,metalness:.4}));d.position.set(q,70,O),d.castShadow=!0,g.add(d);const $=new t.Mesh(new t.CylinderGeometry(E*1.3,E*1.1,10,32),new t.MeshStandardMaterial({color:5921386,roughness:.5,metalness:.5}));$.position.set(q,135,O),$.castShadow=!0,g.add($);const p=new t.Mesh(new t.CylinderGeometry(E*1.2,E*1.3,10,32),new t.MeshStandardMaterial({color:5921386,roughness:.5,metalness:.5}));p.position.set(q,5,O),p.castShadow=!0,g.add(p)}else if(s.type==="column"){const E=new t.Mesh(new t.BoxGeometry(s.width,140,s.height),new t.MeshStandardMaterial({color:3816010,roughness:.7,metalness:.3}));E.position.set(q,70,O),E.castShadow=!0,g.add(E);const d=new t.LineSegments(new t.EdgesGeometry(E.geometry),new t.LineBasicMaterial({color:6974074}));d.position.copy(E.position),g.add(d)}else{const $=s.height/8;for(let p=0;p<8;p++){const L=new t.Mesh(new t.BoxGeometry(s.width,6.25,$*(8-p)),new t.MeshStandardMaterial({color:6636321,roughness:.8}));L.position.set(q,6.25/2+p*6.25,O+p*$/2),L.castShadow=!0,g.add(L);const F=new t.LineSegments(new t.EdgesGeometry(L.geometry),new t.LineBasicMaterial({color:3810320}));F.position.copy(L.position),g.add(F)}}}),o.objects.forEach(s=>{const q=s.x-400+s.width/2,O=-(s.y-400+s.height/2),E=-(s.rotation*Math.PI/180);if(s.type==="bar"){const d=s.x-400+s.width/2,$=-(s.y-400+s.height/2),p=-(s.rotation*Math.PI/180),L=50,F=new t.MeshPhysicalMaterial({color:1710618,roughness:.5,metalness:.8,clearcoat:.2,clearcoatRoughness:.4}),z=new t.Mesh(new t.BoxGeometry(s.width,L,s.height),F);z.position.set(d,L/2,$),z.rotation.y=p,z.castShadow=!0,z.receiveShadow=!0,g.add(z);const ne=[8323072,10770944,6691328,9109504,8930304],_=ne[Math.floor(Math.random()*ne.length)],de=new t.MeshPhysicalMaterial({color:_,metalness:.1,roughness:.05,transmission:.9,thickness:2,ior:1.5,reflectivity:.9,clearcoat:1,clearcoatRoughness:.05}),se=new t.Mesh(new t.BoxGeometry(s.width+6,6,s.height+6),de);se.position.set(d,L+3,$),se.rotation.y=p,se.castShadow=!0,g.add(se);const B=new t.MeshStandardMaterial({emissive:16711799,emissiveIntensity:.6,color:0}),P=new t.Mesh(new t.BoxGeometry(s.width+6,.5,s.height+6),B);P.position.set(d,L+1,$),P.rotation.y=p,g.add(P);const W=_===8323072?13938487:11579568,b=new t.Mesh(new t.BoxGeometry(s.width+8,.6,s.height+8),new t.MeshStandardMaterial({color:W,metalness:1,roughness:.2}));b.position.set(d,L+6.5,$),b.rotation.y=p,g.add(b);const ae=new t.MeshStandardMaterial({color:13421772,metalness:1,roughness:.1}),R=new t.CylinderGeometry(2,2,L,16);[[s.width/2-6,s.height/2-6],[-s.width/2+6,s.height/2-6],[s.width/2-6,-s.height/2+6],[-s.width/2+6,-s.height/2+6]].forEach(([me,Se])=>{const be=new t.Mesh(R,ae);be.position.set(d+me*Math.cos(p)-Se*Math.sin(p),L/2,$+me*Math.sin(p)+Se*Math.cos(p)),be.castShadow=!0,g.add(be)});const Y=new t.PointLight(_,.4,600);Y.position.set(d,L+70,$),g.add(Y);const C=120,x=new t.Group,fe=new t.MeshPhysicalMaterial({color:2105376,metalness:1,roughness:.25,clearcoat:.6,clearcoatRoughness:.1}),f=new t.Mesh(new t.BoxGeometry(s.width+40,10,s.height+40),fe);f.castShadow=!0,f.receiveShadow=!0,x.add(f);const N=new t.MeshPhysicalMaterial({color:10770944,metalness:0,roughness:.05,transmission:.95,thickness:1.5,ior:1.45,clearcoat:1,clearcoatRoughness:.05}),Ne=new t.Mesh(new t.PlaneGeometry(s.width+32,s.height+32),N);Ne.rotation.x=-Math.PI/2,Ne.position.y=-3,x.add(Ne);const X=new t.MeshStandardMaterial({emissive:16764040,emissiveIntensity:1.6,color:0}),w=new t.BoxGeometry(4,2,s.height+36),Ee=new t.Mesh(w,X),ke=Ee.clone();Ee.position.set(-(s.width+36)/2,-2,0),ke.position.set((s.width+36)/2,-2,0),x.add(Ee,ke);const ce=new t.Group,he=[11674146,14919767,9127187,27028,7810842];for(let me=-3;me<=3;me++){const Se=he[Math.floor(Math.random()*he.length)],be=new t.MeshPhysicalMaterial({color:Se,roughness:.1,transmission:.95,thickness:.6,ior:1.5,clearcoat:.3,clearcoatRoughness:.2}),Ye=new t.Mesh(new t.CylinderGeometry(3,3,20,32),be);Ye.position.set(me*12,-12,0),ce.add(Ye);const a=new t.Mesh(new t.CylinderGeometry(1.2,1.2,6,16),be);a.position.set(me*12,-3,0),ce.add(a)}ce.position.y=-15,x.add(ce);const Ze=new t.MeshPhysicalMaterial({color:16777215,roughness:.1,transmission:.9,thickness:.4,ior:1.45});for(let me=-2;me<=2;me++){const Se=new t.Mesh(new t.SphereGeometry(2.5,16,16,0,Math.PI),Ze);Se.position.set(me*10,-25,0),Se.scale.y=.6,x.add(Se)}const m=new t.MeshStandardMaterial({color:11184810,metalness:1,roughness:.2}),we=new t.CylinderGeometry(1.5,1.5,C-60,16);[[s.width/2-10,s.height/2-10],[-s.width/2+10,s.height/2-10],[s.width/2-10,-s.height/2+10],[-s.width/2+10,-s.height/2+10]].forEach(([me,Se])=>{const be=new t.Mesh(we,m);be.position.set(me,-(C-80)/2,Se),be.rotation.x=Math.PI/2,x.add(be)}),x.position.set(d,C,$),x.rotation.y=p,g.add(x);const De=new t.PointLight(16755285,.8,600);De.position.set(d,C-20,$),g.add(De)}else if(s.type==="kitchen"){const d=new t.Group,$=new t.MeshPhysicalMaterial({color:11579568,metalness:1,roughness:.25,envMapIntensity:1,clearcoat:1,clearcoatRoughness:.05}),p=new t.MeshPhysicalMaterial({color:10079487,roughness:.05,transmission:.9,thickness:.5,metalness:.1,envMapIntensity:1.2}),L=new t.Mesh(new t.BoxGeometry(s.width,50,s.height),$);L.position.set(0,25,0),L.castShadow=!0,L.receiveShadow=!0,d.add(L);const F=new t.Mesh(new t.BoxGeometry(s.width,4,s.height),p);F.position.set(0,52,0),d.add(F);const z=new t.Mesh(new t.BoxGeometry(s.width*.4,10,s.height*.6),new t.MeshStandardMaterial({color:2236962,roughness:.4}));z.position.set(-s.width*.2,55,0),d.add(z);const ne=new t.MeshStandardMaterial({color:3355443,metalness:.8,roughness:.2});[[-s.width*.25,s.height*.15],[-s.width*.15,s.height*.15],[-s.width*.25,-s.height*.15],[-s.width*.15,-s.height*.15]].forEach(([Y,C])=>{const x=new t.Mesh(new t.CylinderGeometry(6,6,2,32),ne);x.rotation.x=Math.PI/2,x.position.set(Y,61,C),d.add(x)});const de=new t.Mesh(new t.BoxGeometry(s.width*.5,35,s.height*.65),new t.MeshPhysicalMaterial({color:12632256,metalness:1,roughness:.2,envMapIntensity:1.1}));de.position.set(-s.width*.2,95,0),de.castShadow=!0,d.add(de);const se=new t.MeshPhysicalMaterial({color:14540253,roughness:.3,metalness:.5});for(let Y=0;Y<3;Y++){const C=new t.Mesh(new t.BoxGeometry(s.width*.7,4,s.height*.2),se);C.position.set(s.width*.15,75+Y*22,s.height*.35),C.castShadow=!0,d.add(C)}const B=new t.MeshStandardMaterial({color:8947848,metalness:.9,roughness:.2});for(let Y=-1;Y<=1;Y++){const C=new t.Mesh(new t.CylinderGeometry(1.5,1.5,15,16),B);C.rotation.z=Math.PI/2,C.position.set(Y*s.width*.2,35,s.height*.45),d.add(C)}const P=new t.PointLight(16777215,1.5,400);P.position.set(0,140,0),P.castShadow=!0,d.add(P);const W=document.createElement("canvas");W.width=1024,W.height=768;const b=W.getContext("2d");b&&(b.fillStyle="#dc2626",b.fillRect(0,0,W.width,W.height),b.strokeStyle="#ffffff",b.lineWidth=25,b.strokeRect(30,30,W.width-60,W.height-60),b.strokeStyle="#000000",b.lineWidth=15,b.strokeRect(50,50,W.width-100,W.height-100),b.shadowColor="rgba(0, 0, 0, 0.8)",b.shadowBlur=20,b.shadowOffsetX=8,b.shadowOffsetY=8,b.font="bold 180px Arial",b.textAlign="center",b.textBaseline="middle",b.fillStyle="#ffffff",b.fillText("ðŸ‘¨â€ðŸ³",W.width/2,W.height/2-150),b.fillStyle="#ffffff",b.font="bold 220px Impact, Arial Black, sans-serif",b.fillText("CHEF",W.width/2,W.height/2+120),b.strokeStyle="#000000",b.lineWidth=12,b.strokeText("CHEF",W.width/2,W.height/2+120),b.strokeStyle="#fbbf24",b.lineWidth=6,b.strokeText("CHEF",W.width/2,W.height/2+120));const ae=new t.CanvasTexture(W),R=new t.Mesh(new t.PlaneGeometry(s.height*.6,s.height*.45),new t.MeshStandardMaterial({map:ae,roughness:.4,metalness:.1,emissive:14427686,emissiveIntensity:.3}));R.position.set(-s.width/2+3,50,0),R.rotation.y=Math.PI/2,d.add(R);const Ce=new t.Mesh(new t.PlaneGeometry(s.height*.6,s.height*.45),new t.MeshStandardMaterial({map:ae,roughness:.4,metalness:.1,emissive:14427686,emissiveIntensity:.3}));Ce.position.set(s.width/2-3,50,0),Ce.rotation.y=-Math.PI/2,d.add(Ce),d.position.set(q,0,O),d.rotation.y=E,g.add(d)}else if(s.type==="toilet"){const d=new t.Group,$=new t.MeshStandardMaterial({color:14013914,roughness:.7,metalness:.05}),p=new t.MeshStandardMaterial({color:3900150,roughness:.6,metalness:.1}),L=new t.MeshStandardMaterial({color:15680580,roughness:.6,metalness:.1}),F=new t.MeshStandardMaterial({color:14277081,roughness:.7,metalness:.05}),z=120,ne=new t.Mesh(new t.BoxGeometry(s.width,4,s.height),F);ne.position.y=2,ne.receiveShadow=!0,d.add(ne);const _=new t.Mesh(new t.BoxGeometry(s.width,z,6),$);_.position.set(0,z/2,-s.height/2),_.castShadow=!0,d.add(_);const de=new t.Mesh(new t.BoxGeometry(6,z,s.height),$);de.position.set(-s.width/2,z/2,0),de.castShadow=!0,d.add(de);const se=new t.Mesh(new t.BoxGeometry(6,z,s.height),$);se.position.set(s.width/2,z/2,0),se.castShadow=!0,d.add(se);const B=new t.Mesh(new t.BoxGeometry(s.width*.24,z,6),$);B.position.set(0,z/2,s.height/2),B.castShadow=!0,d.add(B);const P=new t.Mesh(new t.BoxGeometry(s.width*.055,z,6),$);P.position.set(-s.width*.4725,z/2,s.height/2),P.castShadow=!0,d.add(P);const W=new t.Mesh(new t.BoxGeometry(s.width*.055,z,6),$);W.position.set(s.width*.4725,z/2,s.height/2),W.castShadow=!0,d.add(W);const b=new t.Mesh(new t.BoxGeometry(s.width*.33,z-95,6),$);b.position.set(s.width*.285,95+(z-95)/2,s.height/2),b.castShadow=!0,d.add(b);const ae=new t.Mesh(new t.BoxGeometry(s.width*.33,z-95,6),$);ae.position.set(-s.width*.285,95+(z-95)/2,s.height/2),ae.castShadow=!0,d.add(ae);const R=new t.Mesh(new t.BoxGeometry(s.width*.33,95,4),p);R.position.set(s.width*.285,47.5,s.height/2-2),R.castShadow=!0,d.add(R);const Ce=new t.MeshStandardMaterial({color:13938487,metalness:.1,roughness:.8}),Y=new t.Mesh(new t.CylinderGeometry(1.5,1.5,12,16),Ce);Y.rotation.z=Math.PI/2,Y.position.set(s.width*.285-s.width*.132,47.5,s.height/2+1),d.add(Y);const C=document.createElement("canvas");C.width=512,C.height=768;const x=C.getContext("2d");if(x){const U=x.createLinearGradient(0,0,0,C.height);U.addColorStop(0,"#3b82f6"),U.addColorStop(1,"#1e40af"),x.fillStyle=U,x.fillRect(0,0,C.width,C.height),x.strokeStyle="#ffffff",x.lineWidth=12,x.strokeRect(20,20,C.width-40,C.height-40),x.strokeStyle="rgba(255, 255, 255, 0.3)",x.lineWidth=6,x.strokeRect(30,30,C.width-60,C.height-60),x.shadowColor="rgba(0, 0, 0, 0.5)",x.shadowBlur=15,x.shadowOffsetX=4,x.shadowOffsetY=4,x.fillStyle="#ffffff",x.font="bold 120px Georgia, serif",x.textAlign="center",x.textBaseline="middle",x.fillText("W.C.",C.width/2,C.height/2-100),x.strokeStyle="#ffffff",x.lineWidth=4,x.beginPath(),x.moveTo(100,C.height/2),x.lineTo(C.width-100,C.height/2),x.stroke();const Pe=x.createLinearGradient(0,C.height/2,0,C.height/2+150);Pe.addColorStop(0,"#ffd700"),Pe.addColorStop(.5,"#ffed4e"),Pe.addColorStop(1,"#ffd700"),x.fillStyle=Pe,x.font="bold 140px Georgia, serif",x.fillText("MALE",C.width/2,C.height/2+120),x.strokeStyle="#b8860b",x.lineWidth=3,x.strokeText("MALE",C.width/2,C.height/2+120)}const fe=new t.CanvasTexture(C),f=new t.Mesh(new t.PlaneGeometry(s.width*.25,s.width*.375),new t.MeshStandardMaterial({map:fe,roughness:.3,metalness:.15,emissive:1982639,emissiveIntensity:.1}));f.position.set(s.width*.285,47.5,s.height/2+2.5),d.add(f);const N=new t.Mesh(new t.BoxGeometry(s.width*.33,95,4),L);N.position.set(-s.width*.285,47.5,s.height/2-2),N.castShadow=!0,d.add(N);const Ne=Y.clone();Ne.position.set(-s.width*.285+s.width*.132,47.5,s.height/2+1),d.add(Ne);const X=document.createElement("canvas");X.width=512,X.height=768;const w=X.getContext("2d");if(w){const U=w.createLinearGradient(0,0,0,X.height);U.addColorStop(0,"#ef4444"),U.addColorStop(1,"#b91c1c"),w.fillStyle=U,w.fillRect(0,0,X.width,X.height),w.strokeStyle="#ffffff",w.lineWidth=12,w.strokeRect(20,20,X.width-40,X.height-40),w.strokeStyle="rgba(255, 255, 255, 0.3)",w.lineWidth=6,w.strokeRect(30,30,X.width-60,X.height-60),w.shadowColor="rgba(0, 0, 0, 0.5)",w.shadowBlur=15,w.shadowOffsetX=4,w.shadowOffsetY=4,w.fillStyle="#ffffff",w.font="bold 120px Georgia, serif",w.textAlign="center",w.textBaseline="middle",w.fillText("W.C.",X.width/2,X.height/2-100),w.strokeStyle="#ffffff",w.lineWidth=4,w.beginPath(),w.moveTo(100,X.height/2),w.lineTo(X.width-100,X.height/2),w.stroke();const Pe=w.createLinearGradient(0,X.height/2,0,X.height/2+150);Pe.addColorStop(0,"#ffb6c1"),Pe.addColorStop(.5,"#ffd1dc"),Pe.addColorStop(1,"#ffb6c1"),w.fillStyle=Pe,w.font="bold 120px Georgia, serif",w.fillText("FEMALE",X.width/2,X.height/2+120),w.strokeStyle="#dc143c",w.lineWidth=3,w.strokeText("FEMALE",X.width/2,X.height/2+120)}const Ee=new t.CanvasTexture(X),ke=new t.Mesh(new t.PlaneGeometry(s.width*.25,s.width*.375),new t.MeshStandardMaterial({map:Ee,roughness:.3,metalness:.15,emissive:12131356,emissiveIntensity:.1}));ke.position.set(-s.width*.285,47.5,s.height/2+2.5),d.add(ke);const ce=document.createElement("canvas");ce.width=512,ce.height=256;const he=ce.getContext("2d");he&&(he.fillStyle="#d5d5da",he.fillRect(0,0,ce.width,ce.height),he.fillStyle="#2a2a2a",he.font="bold 140px Arial",he.textAlign="center",he.textBaseline="middle",he.fillText("W.C.",ce.width/2,ce.height/2));const Ze=new t.CanvasTexture(ce),m=new t.Mesh(new t.PlaneGeometry(s.width*.4,s.width*.2),new t.MeshStandardMaterial({map:Ze,roughness:.5,metalness:.05}));m.position.set(0,100,-s.height/2+3.5),d.add(m);const we=new t.MeshStandardMaterial({color:16119285,metalness:.1,roughness:.5}),De=new t.Mesh(new t.BoxGeometry(s.width*.5,12,s.height*.25),we);De.position.set(0,32,-s.height*.3),De.castShadow=!0,d.add(De);const me=new t.MeshStandardMaterial({color:16777215,roughness:.3,metalness:.05}),Se=new t.Mesh(new t.CylinderGeometry(12,12,6,32),me);Se.position.set(0,40,-s.height*.3),d.add(Se);const be=new t.MeshStandardMaterial({color:12632256,metalness:.1,roughness:.8}),Ye=new t.Mesh(new t.TorusGeometry(4,1,8,24,Math.PI),be);Ye.rotation.z=Math.PI/2,Ye.position.set(0,48,-s.height*.35),d.add(Ye);const a=new t.MeshStandardMaterial({color:16777215,roughness:.25,metalness:.05}),r=new t.Mesh(new t.CylinderGeometry(10,8,12,32),a);r.position.set(-s.width*.25,6,s.height*.25),d.add(r);const i=new t.Mesh(new t.TorusGeometry(9,2,16,32),a);i.rotation.x=Math.PI/2,i.position.set(-s.width*.25,13,s.height*.25),d.add(i);const h=new t.Mesh(new t.BoxGeometry(14,20,8),a);h.position.set(-s.width*.25,22,s.height*.25-10),d.add(h);const u=new t.Mesh(new t.BoxGeometry(2,6,1),be);u.position.set(-s.width*.25+8,25,s.height*.25-10),d.add(u);const k=new t.Mesh(new t.SphereGeometry(7,32,32,0,Math.PI*2,0,Math.PI/1.5),a);k.position.set(s.width*.25,25,s.height*.25),k.rotation.x=Math.PI/6,d.add(k);const A=new t.Mesh(new t.CylinderGeometry(1.5,1.5,8,16),be);A.position.set(s.width*.25,35,s.height*.25-5),d.add(A);const ee=new t.PointLight(16777215,.5,280);ee.position.set(0,z-15,0),ee.castShadow=!1,d.add(ee),d.position.set(q,0,O),d.rotation.y=E,g.add(d)}}),o.tables.forEach(s=>{const E=s.shape==="rectangle"?s.width*1.5:s.width,d=s.x-400+E/2,$=-(s.y-400+s.height/2),p=-(s.rotation*Math.PI/180),L=new t.MeshPhysicalMaterial({color:7294519,roughness:.35,metalness:.1,clearcoat:.4,clearcoatRoughness:.2,sheen:.5,sheenColor:new t.Color(10251068)}),F=s.shape==="circle"?new t.CylinderGeometry(E/2,E/2,4,64):new t.BoxGeometry(E,4,s.height),z=new t.Mesh(F,L);if(z.position.set(d,33+4/2,$),z.rotation.y=p,z.castShadow=!0,z.receiveShadow=!0,g.add(z),s.shape==="circle"){const B=new t.Mesh(new t.TorusGeometry(E/2+1,1.2,16,64),new t.MeshStandardMaterial({color:13938487,metalness:1,roughness:.3}));B.position.set(d,33+4/2+.5,$),B.rotation.x=Math.PI/2,g.add(B)}else{const B=new t.LineSegments(new t.EdgesGeometry(F),new t.LineBasicMaterial({color:13938487,linewidth:2}));B.position.copy(z.position),B.rotation.y=p,g.add(B)}const ne=new t.MeshStandardMaterial({color:2236962,metalness:.9,roughness:.2}),_=3.2;(s.shape==="circle"?[[E*.3,E*.3],[-E*.3,E*.3],[E*.3,-E*.3],[-E*.3,-E*.3]]:[[E/2-10,s.height/2-10],[-E/2+10,s.height/2-10],[E/2-10,-s.height/2+10],[-E/2+10,-s.height/2+10]]).forEach(([B,P])=>{const W=new t.Mesh(new t.CylinderGeometry(_,_,33,16),ne);W.position.set(d+B*Math.cos(p)-P*Math.sin(p),33/2,$+B*Math.sin(p)+P*Math.cos(p)),W.castShadow=!0,g.add(W)});const se=o.chairs.filter(B=>B.tableId===s.id);se.forEach(B=>{const P=B.size||40,W=38,b=new t.MeshStandardMaterial({color:9127187,roughness:.5,metalness:.1}),ae=new t.MeshStandardMaterial({color:12092939,roughness:.7,metalness:.05}),R=se.filter(me=>me.position===B.position).length,Y=(["top","bottom"].includes(B.position)?E:s.height)-P*R,C=R>1?Y/(R+1):Y/2,x=C+B.index*(P+C)+P/2,fe=P*.4;let f=0,N=0;B.position==="top"?(f=x-E/2,N=s.height/2+fe+P/2):B.position==="bottom"?(f=x-E/2,N=-(s.height/2+fe+P/2)):B.position==="left"?(f=-(E/2+fe+P/2),N=x-s.height/2):(f=E/2+fe+P/2,N=x-s.height/2);const Ne=f*Math.cos(p)-N*Math.sin(p),X=f*Math.sin(p)+N*Math.cos(p),w=new t.Mesh(new t.BoxGeometry(P*.75,4,P*.75),ae),Ee=W*.4;w.position.set(d+Ne,Ee,$-X);const ke={top:0,bottom:Math.PI,left:Math.PI/2,right:-Math.PI/2}[B.position]||0;w.rotation.y=ke+p,w.castShadow=!0,g.add(w);const ce=new t.Mesh(new t.BoxGeometry(P*.75,W*.55,3),b),he=P*.75/2+1.5;ce.position.set(w.position.x-Math.sin(w.rotation.y)*he,W*.65,w.position.z-Math.cos(w.rotation.y)*he),ce.rotation.y=w.rotation.y,ce.castShadow=!0,g.add(ce);const m=Ee-4/2,we=new t.CylinderGeometry(2,2,m,8),De=new t.MeshStandardMaterial({color:6636321,roughness:.6,metalness:.2});[[P*.3,P*.3],[P*.3,-P*.3],[-P*.3,P*.3],[-P*.3,-P*.3]].forEach(([me,Se])=>{const be=new t.Mesh(we,De),Ye=Math.cos(w.rotation.y),a=Math.sin(w.rotation.y);be.position.set(w.position.x+me*Ye-Se*a,m/2,w.position.z+me*a+Se*Ye),be.castShadow=!0,g.add(be)})})});const Q=()=>{var s;if(oe.current=requestAnimationFrame(Q),j.current&&j.current.progress<1){const q=j.current;q.progress+=.05,q.progress>=1&&(q.progress=1,ve(!1),j.current=null);const E=(d=>d<.5?4*d*d*d:1-Math.pow(-2*d+2,3)/2)(q.progress);if(v.current){v.current.position.lerpVectors(q.startPos,q.endPos,E);const d=new t.Vector3;d.lerpVectors(q.startTarget,q.endTarget,E),v.current.lookAt(d)}}if(T&&v.current&&!V){const q=Math.sqrt(v.current.position.x**2+v.current.position.z**2),O=Math.atan2(v.current.position.z,v.current.position.x)+He.current;v.current.position.x=q*Math.cos(O),v.current.position.z=q*Math.sin(O),v.current.lookAt(0,100,0)}(s=J.current)==null||s.render(g,I)};Q();const Le=()=>{M.current&&v.current&&J.current&&(v.current.aspect=M.current.clientWidth/M.current.clientHeight,v.current.updateProjectionMatrix(),J.current.setSize(M.current.clientWidth,M.current.clientHeight))};return window.addEventListener("resize",Le),()=>{window.removeEventListener("resize",Le),oe.current&&cancelAnimationFrame(oe.current),J.current&&M.current&&(M.current.removeChild(J.current.domElement),J.current.dispose())}},[l,o,T,V]),l?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[200] flex items-center justify-center p-2",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-900 via-slate-900 to-gray-900 rounded-3xl shadow-2xl w-full h-full max-w-[98vw] max-h-[98vh] flex flex-col overflow-hidden border border-gray-800",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 p-1",children:e.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:e.jsx(G.Move3d,{className:"w-5 h-5"})}),"3D Floor Plan Visualization"]}),e.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Professional Camera Controls â€¢ ",o.name]})]}),e.jsx("button",{onClick:c,className:"p-2.5 bg-red-500/20 hover:bg-red-500/30 text-red-400 rounded-xl transition-all hover:scale-110",children:e.jsx(G.X,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"flex-1 flex gap-3 p-3 min-h-0",children:[e.jsxs("div",{className:"w-80 bg-black/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-700 p-5 flex flex-col gap-5 overflow-y-auto flex-shrink-0",children:[e.jsx("button",{onClick:()=>$e("default"),className:"px-4 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-xl font-semibold transition-all hover:scale-105 hover:shadow-lg flex items-center justify-center gap-2",children:"ðŸ  Default View"}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"text-white text-sm font-bold uppercase tracking-wider flex items-center gap-2 pb-2 border-b border-gray-700",children:[e.jsx(G.Move3d,{className:"w-5 h-5 text-purple-400"}),"Manual Control"]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("button",{onClick:()=>pe("up"),className:"w-12 h-12 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all hover:scale-110 flex items-center justify-center disabled:opacity-30 mx-auto",disabled:V,title:"Rotate Up",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsxs("div",{className:"flex gap-1 justify-center",children:[e.jsx("button",{onClick:()=>pe("left"),className:"w-12 h-12 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all hover:scale-110 flex items-center justify-center disabled:opacity-30",disabled:V,title:"Rotate Left",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(G.Move3d,{className:"w-6 h-6 text-white"})}),e.jsx("button",{onClick:()=>pe("right"),className:"w-12 h-12 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all hover:scale-110 flex items-center justify-center disabled:opacity-30",disabled:V,title:"Rotate Right",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("button",{onClick:()=>pe("down"),className:"w-12 h-12 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-all hover:scale-110 flex items-center justify-center disabled:opacity-30 mx-auto",disabled:V,title:"Rotate Down",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"text-white text-sm font-bold uppercase tracking-wider flex items-center gap-2 pb-2 border-b border-gray-700",children:[e.jsx(G.ZoomIn,{className:"w-5 h-5 text-green-400"}),"Zoom & Rotation"]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>ue(.85),className:"px-4 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-xl transition-all hover:scale-105 flex items-center justify-center gap-2 font-semibold disabled:opacity-30",disabled:V,children:[e.jsx(G.ZoomIn,{className:"w-5 h-5"}),"Zoom In"]}),e.jsxs("button",{onClick:()=>ue(1.15),className:"px-4 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-xl transition-all hover:scale-105 flex items-center justify-center gap-2 font-semibold disabled:opacity-30",disabled:V,children:[e.jsx(G.ZoomOut,{className:"w-5 h-5"}),"Zoom Out"]}),e.jsxs("button",{onClick:()=>ie(!T),className:`px-4 py-3 rounded-xl transition-all hover:scale-105 flex items-center justify-center gap-2 font-semibold ${T?"bg-gradient-to-r from-green-500 to-emerald-600 text-white shadow-lg":"bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white"}`,children:[e.jsx(G.RotateCcw,{className:`w-5 h-5 ${T?"animate-spin":""}`}),T?"Auto-Rotating":"Auto-Rotate"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 mt-auto",children:[e.jsxs("button",{onClick:()=>$e("default"),className:"px-4 py-3 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl transition-all hover:scale-105 hover:shadow-lg flex items-center justify-center gap-2 font-bold",children:[e.jsx(G.Maximize2,{className:"w-5 h-5"}),"Reset View"]}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-400 mb-3",children:[e.jsx(G.Grid,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium text-sm",children:"Scene Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-gray-300",children:[o.tables.length," Tables"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-gray-300",children:[o.chairs.length," Chairs"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-gray-300",children:[o.objects.length," Objects"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsxs("span",{className:"text-gray-300",children:[o.walls.length," Walls"]})]})]})]})]})]}),e.jsxs("div",{className:"flex-1 relative bg-gradient-to-br from-gray-100 via-gray-50 to-gray-100 rounded-2xl overflow-hidden shadow-2xl border border-gray-300",children:[e.jsx("div",{ref:M,className:"w-full h-full"}),V&&e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:e.jsx("div",{className:"bg-black/80 backdrop-blur-xl rounded-xl px-6 py-3 shadow-2xl border border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-gray-500 border-t-white"}),e.jsx("span",{className:"text-white text-sm font-medium",children:"Transitioning Camera..."})]})})})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-gray-900 via-slate-900 to-gray-900 px-6 py-3 border-t border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G.Layers,{className:"w-4 h-4 text-gray-400"}),e.jsxs("span",{className:"text-sm text-gray-400",children:["Viewing: ",e.jsx("span",{className:"text-white font-semibold",children:o.name})]})]}),e.jsxs("div",{className:"text-sm text-gray-400",children:["Camera: ",e.jsx("span",{className:"text-white font-semibold",children:at[K].name})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:"High Performance Mode"}),e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]})]})})]})}):null},Ct=()=>{const[o,l]=y.useState([{id:"floor-1",name:"Ground Floor",isActive:!0,tables:[],chairs:[],objects:[],walls:[],fixedElements:[]}]),[c,M]=y.useState("floor-1"),[n,v]=y.useState(null),[J,oe]=y.useState(!1),[T,ie]=y.useState({x:0,y:0}),K=1,[H,V]=y.useState(!0),[ve,He]=y.useState(!1),[j,$e]=y.useState(!1),[pe,ue]=y.useState(null),[g,I]=y.useState(null),[Z,ye]=y.useState(null),[le,Ge]=y.useState(!1),[xe,Oe]=y.useState(null),[S,Me]=y.useState(null),te=y.useRef(null),Q=y.useRef(null),Le=y.useRef(null);y.useEffect(()=>{if((n==null?void 0:n.type)==="table"){const a=s();if(!a)return;const r=a.chairs.filter(h=>h.tableId===n.id);if(r.filter(h=>h.size===void 0).length>0){const h={};r.forEach(u=>{u.size!==void 0&&!h[u.position]&&(h[u.position]=u.size)}),l(u=>u.map(k=>k.id===c?{...k,chairs:k.chairs.map(A=>{if(A.tableId===n.id&&A.size===void 0){const ee=h[A.position]??40;return{...A,size:ee}}return A})}:k))}}},[n]);const s=()=>o.find(a=>a.id===c),q=(a,r="medium")=>{const i=s();if(!i)return;const{width:h,height:u}=et(a,r),k={id:_e(),name:`Table ${i.tables.length+1}`,shape:a,size:r,x:200+i.tables.length*20,y:200+i.tables.length*20,width:h,height:u,rotation:0};l(A=>A.map(ee=>ee.id===c?{...ee,tables:[...ee.tables,k]}:ee)),v({type:"table",id:k.id})},O=a=>{const r=s();if(!r)return;const i={id:_e(),name:`${qe[a]} ${r.objects.length+1}`,type:a,x:300+r.objects.length*30,y:300+r.objects.length*30,width:120,height:80,rotation:0};l(h=>h.map(u=>u.id===c?{...u,objects:[...u.objects,i]}:u)),v({type:"object",id:i.id})},E=a=>{if(!n||n.type!=="table")return;const r=s();if(!r)return;const i=r.chairs.filter(ee=>ee.tableId===n.id&&ee.position===a),h=i.length,u=i.find(ee=>ee.size!==void 0),k=(u==null?void 0:u.size)??40,A={id:_e(),tableId:n.id,position:a,index:h,x:0,y:0,size:k};l(ee=>ee.map(U=>U.id===c?{...U,chairs:[...U.chairs,A]}:U))},d=a=>{if(!n||n.type!=="table")return;const r=s();if(!r)return;const i=r.chairs.filter(u=>u.tableId===n.id&&u.position===a);if(i.length===0)return;const h=i.reduce((u,k)=>k.index>u.index?k:u);l(u=>u.map(k=>k.id===c?{...k,chairs:k.chairs.filter(A=>A.id!==h.id)}:k))},$=(a,r)=>{!n||n.type!=="table"||!s()||l(h=>h.map(u=>u.id===c?{...u,chairs:u.chairs.map(k=>k.tableId===n.id&&k.position===a?{...k,size:r}:k)}:u))},p=()=>{!n||n.type!=="table"||!s()||l(r=>r.map(i=>i.id===c?{...i,chairs:i.chairs.map(h=>{if(h.tableId===n.id){const{size:u,...k}=h;return k}return h})}:i))},L=()=>{n&&(n.type==="table"?l(a=>a.map(r=>r.id===c?{...r,tables:r.tables.filter(i=>i.id!==n.id),chairs:r.chairs.filter(i=>i.tableId!==n.id)}:r)):n.type==="object"?l(a=>a.map(r=>r.id===c?{...r,objects:r.objects.filter(i=>i.id!==n.id)}:r)):n.type==="wall"?l(a=>a.map(r=>r.id===c?{...r,walls:r.walls.filter(i=>i.id!==n.id)}:r)):n.type==="fixedElement"&&l(a=>a.map(r=>r.id===c?{...r,fixedElements:r.fixedElements.filter(i=>i.id!==n.id)}:r)),v(null))},F=a=>{!n||n.type!=="wall"||l(r=>r.map(i=>i.id===c?{...i,walls:i.walls.map(h=>h.id===n.id?{...h,thickness:a}:h)}:i))},z=a=>{!n||n.type!=="wall"||l(r=>r.map(i=>i.id===c?{...i,walls:i.walls.map(h=>h.id===n.id?{...h,type:a}:h)}:i))},ne=()=>{!n||n.type!=="table"||l(a=>a.map(r=>r.id===c?{...r,tables:r.tables.map(i=>i.id===n.id?{...i,rotation:(i.rotation||0)+45}:i)}:r))},_=()=>{if(!n||n.type!=="table")return;const a=s();if(!a)return;const r=a.tables.find(k=>k.id===n.id);if(!r)return;const i={...r,id:_e(),name:`${r.name} Copy`,x:r.x+50,y:r.y+50},u=a.chairs.filter(k=>k.tableId===r.id).map(k=>({...k,id:_e(),tableId:i.id}));l(k=>k.map(A=>A.id===c?{...A,tables:[...A.tables,i],chairs:[...A.chairs,...u]}:A)),v({type:"table",id:i.id})},de=y.useCallback(a=>{!n||n.type!=="table"||l(r=>r.map(i=>i.id===c?{...i,tables:i.tables.map(h=>h.id===n.id?a(h):h)}:i))},[n,c]),se=a=>{de(r=>{const{width:i,height:h}=et(r.shape,a);return{...r,size:a,width:i,height:h}})},B=(a,r)=>{de(i=>({...i,width:a,height:r,size:"medium"}))},P=a=>{!n||n.type!=="object"||l(r=>r.map(i=>i.id===c?{...i,objects:i.objects.map(h=>h.id===n.id?{...h,name:a}:h)}:i))},W=(a,r)=>{!n||n.type!=="object"||l(i=>i.map(h=>h.id===c?{...h,objects:h.objects.map(u=>u.id===n.id?{...u,width:a,height:r}:u)}:h))},b=a=>{!n||n.type!=="object"||l(r=>r.map(i=>i.id===c?{...i,objects:i.objects.map(h=>h.id===n.id?{...h,rotation:a}:h)}:i))},ae=(a,r)=>{!n||n.type!=="fixedElement"||l(i=>i.map(h=>h.id===c?{...h,fixedElements:h.fixedElements.map(u=>u.id===n.id?{...u,width:a,height:r}:u)}:h))},R=a=>{de(r=>({...r,name:a}))},Ce=a=>{if(te.current&&!le){if(j&&pe){const r=te.current.getBoundingClientRect(),i=Math.round((a.clientX-r.left)/K/D)*D,h=Math.round((a.clientY-r.top)/K/D)*D;if(!g)I({x:i,y:h});else{if(!s())return;const k=Ue(g,{x:i,y:h}),A={id:_e(),type:pe,startX:g.x,startY:g.y,endX:k.x,endY:k.y,thickness:8};l(ee=>ee.map(U=>U.id===c?{...U,walls:[...U.walls,A]}:U)),I(null),ye(null),$e(!1),ue(null)}return}v(null)}},Y=(a,r)=>{v({type:a,id:r})},C=(a,r)=>{if(!te.current)return;a.preventDefault(),a.stopPropagation();const i=te.current.getBoundingClientRect(),h=(a.clientX-i.left)/K,u=(a.clientY-i.top)/K,k=s();if(!k)return;const A=k.tables.find(Te=>Te.id===r),ee=k.objects.find(Te=>Te.id===r),U=k.fixedElements.find(Te=>Te.id===r),Pe=k.walls.find(Te=>Te.id===r);if(Pe)ie({x:h-Pe.startX,y:u-Pe.startY}),Q.current={id:r,type:"wall"};else{const Te=A||ee||U;Te&&ie({x:h-Te.x,y:u-Te.y});const We=A?"table":ee?"object":U?"fixedElement":"table";Q.current={id:r,type:We}}oe(!0)},x=y.useCallback(a=>{!J&&!le||!Q.current||!te.current||(Le.current&&cancelAnimationFrame(Le.current),Le.current=requestAnimationFrame(()=>{var A,ee,U,Pe,Te;if(!te.current)return;const r=te.current.getBoundingClientRect(),i=(a.clientX-r.left)/K,h=(a.clientY-r.top)/K,u=Math.round(i/D)*D,k=Math.round(h/D)*D;if(le&&((A=Q.current)==null?void 0:A.type)==="wall"){const We=o.find(Xe=>Xe.id===c),Be=We==null?void 0:We.walls.find(Xe=>{var ze;return Xe.id===((ze=Q.current)==null?void 0:ze.id)});if(Be){const Xe=xe==="start"?{x:Be.endX,y:Be.endY}:{x:Be.startX,y:Be.startY},ze=Ue(Xe,{x:u,y:k});l(Fe=>Fe.map(ge=>ge.id===c?{...ge,walls:ge.walls.map(re=>{var Ie;return re.id===((Ie=Q.current)==null?void 0:Ie.id)?xe==="start"?{...re,startX:ze.x,startY:ze.y}:{...re,endX:ze.x,endY:ze.y}:re})}:ge))}}else if(((ee=Q.current)==null?void 0:ee.type)==="table"){const We=i-T.x,Be=h-T.y,Xe=Math.round(We/D)*D,ze=Math.round(Be/D)*D;l(Fe=>Fe.map(ge=>ge.id===c?{...ge,tables:ge.tables.map(re=>{var Ie;return re.id===((Ie=Q.current)==null?void 0:Ie.id)?{...re,x:Xe,y:ze}:re})}:ge))}else if(((U=Q.current)==null?void 0:U.type)==="object"){const We=i-T.x,Be=h-T.y,Xe=Math.round(We/D)*D,ze=Math.round(Be/D)*D;l(Fe=>Fe.map(ge=>ge.id===c?{...ge,objects:ge.objects.map(re=>{var Ie;return re.id===((Ie=Q.current)==null?void 0:Ie.id)?{...re,x:Xe,y:ze}:re})}:ge))}else if(((Pe=Q.current)==null?void 0:Pe.type)==="fixedElement"){const We=i-T.x,Be=h-T.y,Xe=Math.round(We/D)*D,ze=Math.round(Be/D)*D;l(Fe=>Fe.map(ge=>ge.id===c?{...ge,fixedElements:ge.fixedElements.map(re=>{var Ie;return re.id===((Ie=Q.current)==null?void 0:Ie.id)?{...re,x:Xe,y:ze}:re})}:ge))}else if(((Te=Q.current)==null?void 0:Te.type)==="wall"&&!le){const We=i-T.x,Be=h-T.y,Xe=Math.round(We/D)*D,ze=Math.round(Be/D)*D;l(Fe=>Fe.map(ge=>ge.id===c?{...ge,walls:ge.walls.map(re=>{var ot;if(re.id!==((ot=Q.current)==null?void 0:ot.id))return re;const Ie=Xe-re.startX,nt=ze-re.startY;return{...re,startX:re.startX+Ie,startY:re.startY+nt,endX:re.endX+Ie,endY:re.endY+nt}})}:ge))}}))},[J,le,xe,T,c,K,o]),fe=()=>{Le.current&&(cancelAnimationFrame(Le.current),Le.current=null),oe(!1),Q.current=null,Ge(!1),Oe(null),Me(null)},f=(a,r,i)=>{a.preventDefault(),a.stopPropagation(),Ge(!0),Oe(i),Q.current={id:r,type:"wall"}},N=()=>{const a={id:_e(),name:`Floor ${o.length+1}`,isActive:!1,tables:[],chairs:[],objects:[],walls:[],fixedElements:[]};l(r=>[...r,a]),X(a.id)},Ne=()=>{if(o.length<=1)return;const a=o.filter(r=>r.id!==c);l(a),M(a[0].id)},X=a=>{l(r=>r.map(i=>({...i,isActive:i.id===a}))),M(a),v(null)},w=(a,r)=>{l(i=>i.map(h=>h.id===a?{...h,name:r}:h))},Ee=a=>{$e(!0),ue(a),I(null),ye(null),v(null)},ke=a=>{const r=s();if(!r)return;const i={id:_e(),name:`${a.charAt(0).toUpperCase()+a.slice(1)} ${r.fixedElements.length+1}`,type:a,x:400+r.fixedElements.length*30,y:400+r.fixedElements.length*30,width:60,height:60,rotation:0};l(h=>h.map(u=>u.id===c?{...u,fixedElements:[...u.fixedElements,i]}:u)),v({type:"fixedElement",id:i.id})},ce=()=>{const a={floors:o,timestamp:new Date().toISOString()};console.log("Saving floor plan:",a),alert("Floor plan saved! (Check console for data)")},he=()=>{l([{id:"floor-sample",name:"Sample Floor",isActive:!0,tables:[{id:"table-1",name:"Table 1",shape:"circle",size:"medium",x:200,y:200,width:120,height:120,rotation:0}],chairs:[{id:"chair-1",tableId:"table-1",position:"top",index:0,x:0,y:0}],objects:[],walls:[],fixedElements:[]}]),M("floor-sample"),v(null),alert("Sample floor plan loaded!")};y.useEffect(()=>{const a=i=>x(i),r=()=>fe();return(J||le)&&(document.addEventListener("mousemove",a),document.addEventListener("mouseup",r)),()=>{document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",r)}},[J,le,x]);const Ze=a=>{var r;if(j&&g&&te.current){const i=te.current.getBoundingClientRect(),h=Math.round((a.clientX-i.left)/K/D)*D,u=Math.round((a.clientY-i.top)/K/D)*D,k=Ue(g,{x:h,y:u});ye(k)}else if(le&&((r=Q.current)==null?void 0:r.type)==="wall"&&te.current){const i=te.current.getBoundingClientRect(),h=Math.round((a.clientX-i.left)/K/D)*D,u=Math.round((a.clientY-i.top)/K/D)*D,k=s(),A=k==null?void 0:k.walls.find(ee=>{var U;return ee.id===((U=Q.current)==null?void 0:U.id)});if(A){const ee=xe==="start"?{x:A.endX,y:A.endY}:{x:A.startX,y:A.startY},U=Ue(ee,{x:h,y:u});Me(xe==="start"?{startX:U.x,startY:U.y,endX:A.endX,endY:A.endY}:{startX:A.startX,startY:A.startY,endX:U.x,endY:U.y})}}};y.useEffect(()=>{const a=r=>{r.key==="Escape"&&j&&($e(!1),ue(null),I(null),ye(null))};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[j]);const m=s(),we=m==null?void 0:m.tables.find(a=>(n==null?void 0:n.type)==="table"&&a.id===n.id),De=m==null?void 0:m.objects.find(a=>(n==null?void 0:n.type)==="object"&&a.id===n.id),me=m==null?void 0:m.walls.find(a=>(n==null?void 0:n.type)==="wall"&&a.id===n.id),Se=m==null?void 0:m.fixedElements.find(a=>(n==null?void 0:n.type)==="fixedElement"&&a.id===n.id),be=we?(m==null?void 0:m.chairs.filter(a=>a.tableId===we.id))??[]:[],Ye=y.useCallback(()=>V(a=>!a),[]);return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:dt}}),e.jsx(vt,{floors:o,currentFloor:m,onAddFloor:N,onRemoveFloor:Ne,onSwitchFloor:X,onRenameFloor:w,onAddTable:q,onAddObject:O,onStartWallDrawing:Ee,onAddFixedElement:ke,onRotateTable:ne,onDuplicateTable:_,onRemoveTable:L,onSave:ce,onLoad:he,selectedTable:we??null,selectedTableChairs:be}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx(St,{showGrid:H,selectedTable:we??null,selectedObject:De??null,selectedWall:me??null,selectedFixedElement:Se??null,selectedTableChairs:be,tableCount:(m==null?void 0:m.tables.length)??0,chairCount:(m==null?void 0:m.chairs.length)??0,objectCount:(m==null?void 0:m.objects.length)??0,wallCount:(m==null?void 0:m.walls.length)??0,fixedElementCount:(m==null?void 0:m.fixedElements.length)??0,selectedElementType:(n==null?void 0:n.type)??null,onToggleGrid:Ye,onAddChair:E,onRemoveChair:d,onChangeTableSize:se,onCustomTableSize:B,onTableNameChange:R,onObjectNameChange:P,onObjectResize:W,onObjectRotate:b,onRemoveObject:L,onRemoveWall:L,onRemoveFixedElement:L,onChangeWallThickness:F,onConvertWallType:z,onFixedElementResize:ae,onChairSizeChange:$,onResetChairSizes:p,on3DPreview:()=>He(!0)}),e.jsxs("div",{className:"flex-1 overflow-hidden bg-gray-100 relative",children:[e.jsxs("div",{ref:te,className:`w-full h-full relative ${j?"cursor-crosshair":le?"cursor-grabbing":"cursor-default"}`,style:{transform:`scale(${K})`,transformOrigin:"top left",background:H?"radial-gradient(circle, #d1d5db 1px, transparent 1px)":"white",backgroundSize:`${D*K}px ${D*K}px`},onClick:Ce,onMouseMove:Ze,children:[(m==null?void 0:m.tables.length)===0&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸª"}),e.jsx("div",{className:"text-xl font-medium mb-2",children:"Welcome to Your Restaurant Designer"}),e.jsx("div",{className:"text-lg",children:'Click "Add Tables" in the sidebar to start designing your floor plan'}),e.jsxs("div",{className:"mt-4 space-y-1 text-sm",children:[e.jsx("div",{children:"â€¢ Drag tables to move them around"}),e.jsx("div",{children:"â€¢ Click tables to select and edit properties"}),e.jsx("div",{children:"â€¢ Add chairs from the top toolbar or the table properties panel"}),e.jsx("div",{children:"â€¢ Use multiple floors for complex layouts"})]})]})}),m==null?void 0:m.tables.map(a=>e.jsx(wt,{table:a,isSelected:(n==null?void 0:n.type)==="table"&&n.id===a.id,chairs:m.chairs.filter(r=>r.tableId===a.id),onSelect:()=>Y("table",a.id),onDrag:C,onDragEnd:fe},a.id)),m==null?void 0:m.objects.map(a=>e.jsx(bt,{object:a,isSelected:(n==null?void 0:n.type)==="object"&&n.id===a.id,onSelect:()=>Y("object",a.id),onDragStart:r=>C(r,a.id)},a.id)),m==null?void 0:m.walls.map(a=>e.jsx(tt,{wall:a,isSelected:(n==null?void 0:n.type)==="wall"&&n.id===a.id,onSelect:()=>Y("wall",a.id),onDragHandle:(r,i)=>f(r,a.id,i),onDragStart:r=>C(r,a.id)},a.id)),j&&g&&Z&&pe&&e.jsx(tt,{wall:{id:"temp-wall",type:pe,startX:g.x,startY:g.y,endX:Z.x,endY:Z.y,thickness:8},isSelected:!1,onSelect:()=>{}}),S&&e.jsx("div",{className:"absolute pointer-events-none",style:{left:`${S.startX}px`,top:`${S.startY}px`,width:`${Math.sqrt(Math.pow(S.endX-S.startX,2)+Math.pow(S.endY-S.startY,2))}px`,height:"4px",transform:`rotate(${Math.atan2(S.endY-S.startY,S.endX-S.startX)*(180/Math.PI)}deg)`,transformOrigin:"top left",zIndex:15},children:e.jsx("div",{className:"w-full h-full border-2 border-blue-400 border-dashed opacity-70 bg-blue-100 rounded-sm"})}),m==null?void 0:m.fixedElements.map(a=>e.jsx(ut,{element:a,isSelected:(n==null?void 0:n.type)==="fixedElement"&&n.id===a.id,onSelect:()=>Y("fixedElement",a.id),onDragStart:r=>C(r,a.id)},a.id)),m==null?void 0:m.chairs.map(a=>{const r=m.tables.find(h=>h.id===a.tableId);if(!r)return null;const i=m.chairs.filter(h=>h.tableId===a.tableId&&h.position===a.position).length;return e.jsx(xt,{chair:a,table:r,totalChairsOnSide:i,isSelected:!1,onSelect:()=>{},onDrag:()=>{},onDragEnd:()=>{}},a.id)}),n&&n.type==="table"&&we&&e.jsx("div",{className:"absolute border-2 border-blue-500 border-dashed rounded pointer-events-none",style:{left:we.x-10,top:we.y-10,width:(we.shape==="rectangle"?we.width*1.5:we.width)+20,height:we.height+20,transform:`rotate(${we.rotation||0}deg)`}})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white bg-opacity-95 border-t border-gray-200 p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("span",{children:["Floor: ",m==null?void 0:m.name]})]}),J&&e.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),e.jsx("span",{children:"Dragging..."})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-gray-500",children:["Zoom: ",Math.round(K*100),"% | Grid: ",H?"On":"Off"]}),n&&e.jsx("div",{className:"text-blue-600 font-medium",children:n.type==="table"&&we?`${we.name} (${we.shape})`:"Element Selected"})]})]})})]})]}),m&&e.jsx(rt,{floor:m,isOpen:ve,onClose:()=>He(!1)})]})};Ae.Preview3DModal=rt,Ae.RestaurantFloorPlanner=Ct,Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=restaurant-floor-planner.umd.js.map
